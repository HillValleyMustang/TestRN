/**
 * This file contains the core Supabase Database schema definition.
 * It is automatically generated by Supabase CLI, refactored for modularity.
 */

import { Json } from "./json";

export type Database = {
  public: {
    Tables: {
      activity_logs: {
        Row: {
          activity_type: string;
          avg_time: number | null;
          created_at: string | null;
          distance: string | null;
          id: string;
          is_pb: boolean | null;
          log_date: string;
          time: string | null;
          user_id: string | null;
        };
        Insert: {
          activity_type: string;
          avg_time?: number | null;
          created_at?: string | null;
          distance?: string | null;
          id?: string;
          is_pb?: boolean | null;
          log_date: string;
          time?: string | null;
          user_id?: string | null;
        };
        Update: {
          activity_type?: string;
          avg_time?: number | null;
          created_at?: string | null;
          distance?: string | null;
          id?: string;
          is_pb?: boolean | null;
          log_date?: string;
          time?: string | null;
          user_id?: string | null;
        };
        Relationships: [
          {
            foreignKeyName: "activity_logs_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      ai_coach_usage_logs: {
        Row: {
          id: string;
          user_id: string | null;
          used_at: string | null;
        };
        Insert: {
          id?: string;
          user_id?: string | null;
          used_at?: string | null;
        };
        Update: {
          id?: string;
          user_id?: string | null;
          used_at?: string | null;
        };
        Relationships: [
          {
            foreignKeyName: "ai_coach_usage_logs_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      app_metadata: {
        Row: {
          id: string;
          last_source_sync_at: string | null;
        };
        Insert: {
          id?: string;
          last_source_sync_at?: string | null;
        };
        Update: {
          id?: string;
          last_source_sync_at?: string | null;
        };
        Relationships: [];
      };
      body_fat_reference_images: {
        Row: {
          id: string;
          percentage: number;
          image_url: string;
          description: string | null;
          created_at: string | null;
        };
        Insert: {
          id?: string;
          percentage: number;
          image_url: string;
          description?: string | null;
          created_at?: string | null;
        };
        Update: {
          id?: string;
          percentage?: number;
          image_url?: string;
          description?: string | null;
          created_at?: string | null;
        };
        Relationships: [];
      };
      exercise_definitions: {
        Row: {
          category: string | null;
          created_at: string | null;
          description: string | null;
          id: string;
          main_muscle: string;
          name: string;
          pro_tip: string | null;
          type: string;
          user_id: string | null;
          video_url: string | null;
          library_id: string | null;
          is_favorite: boolean | null;
          icon_url: string | null;
        };
        Insert: {
          category?: string | null;
          created_at?: string | null;
          description?: string | null;
          id?: string;
          main_muscle: string;
          name: string;
          pro_tip?: string | null;
          type?: string;
          user_id?: string | null;
          video_url?: string | null;
          library_id?: string | null;
          is_favorite?: boolean | null;
          icon_url?: string | null;
        };
        Update: {
          category?: string | null;
          created_at?: string | null;
          description?: string | null;
          id?: string;
          main_muscle?: string;
          name?: string;
          pro_tip?: string | null;
          type?: string;
          user_id?: string | null;
          video_url?: string | null;
          library_id?: string | null;
          is_favorite?: boolean | null;
          icon_url?: string | null;
        };
        Relationships: [
          {
            foreignKeyName: "exercise_definitions_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      notifications: {
        Row: {
          created_at: string | null;
          id: string;
          message: string;
          title: string;
          type: string;
        };
        Insert: {
          created_at?: string | null;
          id?: string;
          message: string;
          title: string;
          type?: string;
        };
        Update: {
          created_at?: string | null;
          id?: string;
          message?: string;
          title?: string;
          type?: string;
        };
        Relationships: [];
      };
      profiles: {
        Row: {
          active_t_path_id: string | null;
          body_fat_pct: number | null;
          created_at: string | null;
          current_streak: number | null;
          default_rest_time_seconds: number | null;
          first_name: string | null;
          full_name: string | null;
          health_notes: string | null;
          height_cm: number | null;
          id: string;
          last_ai_coach_use_at: string | null;
          last_name: string | null;
          last_workout_date: string | null;
          preferred_distance_unit: string | null;
          preferred_muscles: string | null;
          preferred_session_length: string | null;
          preferred_weight_unit: string | null;
          primary_goal: string | null;
          rolling_workout_status: string | null;
          target_date: string | null;
          total_points: number | null;
          updated_at: string | null;
          weight_kg: number | null;
        };
        Insert: {
          active_t_path_id?: string | null;
          body_fat_pct?: number | null;
          created_at?: string | null;
          current_streak?: number | null;
          default_rest_time_seconds?: number | null;
          first_name?: string | null;
          full_name?: string | null;
          health_notes?: string | null;
          height_cm?: number | null;
          id: string;
          last_ai_coach_use_at?: string | null;
          last_name?: string | null;
          last_workout_date?: string | null;
          preferred_distance_unit?: string | null;
          preferred_muscles?: string | null;
          preferred_session_length?: string | null;
          preferred_weight_unit?: string | null;
          primary_goal?: string | null;
          rolling_workout_status?: string | null;
          target_date?: string | null;
          total_points?: number | null;
          updated_at?: string | null;
          weight_kg?: number | null;
        };
        Update: {
          active_t_path_id?: string | null;
          body_fat_pct?: number | null;
          created_at?: string | null;
          current_streak?: number | null;
          default_rest_time_seconds?: number | null;
          first_name?: string | null;
          full_name?: string | null;
          health_notes?: string | null;
          height_cm?: number | null;
          id?: string;
          last_ai_coach_use_at?: string | null;
          last_name?: string | null;
          last_workout_date?: string | null;
          preferred_distance_unit?: string | null;
          preferred_muscles?: string | null;
          preferred_session_length?: string | null;
          preferred_weight_unit?: string | null;
          primary_goal?: string | null;
          rolling_workout_status?: string | null;
          target_date?: string | null;
          total_points?: number | null;
          updated_at?: string | null;
          weight_kg?: number | null;
        };
        Relationships: [
          {
            foreignKeyName: "profiles_id_fkey";
            columns: ["id"];
            isOneToOne: true;
            referencedRelation: "users";
            referencedColumns: ["id"];
          },
        ];
      };
      set_logs: {
        Row: {
          created_at: string | null;
          exercise_id: string | null;
          id: string;
          is_pb: boolean | null;
          reps: number | null;
          reps_l: number | null;
          reps_r: number | null;
          session_id: string | null;
          time_seconds: number | null;
          weight_kg: number | null;
        };
        Insert: {
          created_at?: string | null;
          exercise_id?: string | null;
          id?: string;
          is_pb?: boolean | null;
          reps?: number | null;
          reps_l?: number | null;
          reps_r?: number | null;
          session_id?: string | null;
          time_seconds?: number | null;
          weight_kg?: number | null;
        };
        Update: {
          created_at?: string | null;
          exercise_id?: string | null;
          id?: string;
          is_pb?: boolean | null;
          reps?: number | null;
          reps_l?: number | null;
          reps_r?: number | null;
          session_id?: string | null;
          time_seconds?: number | null;
          weight_kg?: number | null;
        };
        Relationships: [
          {
            foreignKeyName: "set_logs_exercise_id_fkey";
            columns: ["exercise_id"];
            isOneToOne: false;
            referencedRelation: "exercise_definitions";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "set_logs_session_id_fkey";
            columns: ["session_id"];
            isOneToOne: false;
            referencedRelation: "workout_sessions";
            referencedColumns: ["id"];
          },
        ];
      };
      t_path_exercises: {
        Row: {
          created_at: string | null;
          exercise_id: string;
          id: string;
          is_bonus_exercise: boolean | null;
          order_index: number;
          template_id: string;
        };
        Insert: {
          created_at?: string | null;
          exercise_id: string;
          id?: string;
          is_bonus_exercise?: boolean | null;
          order_index: number;
          template_id: string;
        };
        Update: {
          created_at?: string | null;
          exercise_id?: string;
          id?: string;
          is_bonus_exercise?: boolean | null;
          order_index?: number;
          template_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "t_path_exercises_exercise_id_fkey";
            columns: ["exercise_id"];
            isOneToOne: false;
            referencedRelation: "exercise_definitions";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "t_path_exercises_template_id_fkey";
            columns: ["template_id"];
            isOneToOne: false;
            referencedRelation: "t_paths";
            referencedColumns: ["id"];
          },
        ];
      };
      t_paths: {
        Row: {
          created_at: string | null;
          id: string;
          is_bonus: boolean | null;
          parent_t_path_id: string | null;
          progression_settings: Json | null;
          settings: Json | null;
          template_name: string;
          user_id: string | null;
          version: number | null;
        };
        Insert: {
          created_at?: string | null;
          id?: string;
          is_bonus?: boolean | null;
          parent_t_path_id?: string | null;
          progression_settings?: Json | null;
          settings?: Json | null;
          template_name: string;
          user_id?: string | null;
          version?: number | null;
        };
        Update: {
          created_at?: string | null;
          id?: string;
          is_bonus?: boolean | null;
          parent_t_path_id?: string | null;
          progression_settings?: Json | null;
          settings?: Json | null;
          template_name?: string;
          user_id?: string | null;
          version?: number | null;
        };
        Relationships: [
          {
            foreignKeyName: "t_paths_parent_t_path_id_fkey";
            columns: ["parent_t_path_id"];
            isOneToOne: false;
            referencedRelation: "t_paths";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "workout_templates_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      user_achievements: {
        Row: {
          achievement_id: string;
          id: string;
          unlocked_at: string | null;
          user_id: string;
        };
        Insert: {
          achievement_id: string;
          id?: string;
          unlocked_at?: string | null;
          user_id: string;
        };
        Update: {
          achievement_id?: string;
          id?: string;
          unlocked_at?: string | null;
          user_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "user_achievements_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      user_alerts: {
        Row: {
          created_at: string | null;
          id: string;
          is_read: boolean | null;
          message: string;
          title: string;
          type: string | null;
          user_id: string;
        };
        Insert: {
          created_at?: string | null;
          id?: string;
          is_read?: boolean | null;
          message: string;
          title: string;
          type?: string | null;
          user_id: string;
        };
        Update: {
          created_at?: string | null;
          id?: string;
          is_read?: boolean | null;
          message?: string;
          title?: string;
          type?: string | null;
          user_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "user_alerts_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "users";
            referencedColumns: ["id"];
          },
        ];
      };
      user_exercise_prs: {
        Row: {
          best_time_seconds: number | null;
          best_volume_kg: number | null;
          created_at: string | null;
          exercise_id: string;
          id: string;
          last_achieved_date: string;
          updated_at: string | null;
          user_id: string;
        };
        Insert: {
          best_time_seconds?: number | null;
          best_volume_kg?: number | null;
          created_at?: string | null;
          exercise_id: string;
          id?: string;
          last_achieved_date?: string;
          updated_at?: string | null;
          user_id: string;
        };
        Update: {
          best_time_seconds?: number | null;
          best_volume_kg?: number | null;
          created_at?: string | null;
          exercise_id?: string;
          id?: string;
          last_achieved_date?: string;
          updated_at?: string | null;
          user_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "user_exercise_prs_exercise_id_fkey";
            columns: ["exercise_id"];
            isOneToOne: false;
            referencedRelation: "exercise_definitions";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "user_exercise_prs_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      user_global_favorites: {
        Row: {
          created_at: string | null;
          exercise_id: string;
          user_id: string;
        };
        Insert: {
          created_at?: string | null;
          exercise_id: string;
          user_id: string;
        };
        Update: {
          created_at?: string | null;
          exercise_id?: string;
          user_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "user_global_favorites_exercise_id_fkey";
            columns: ["exercise_id"];
            isOneToOne: false;
            referencedRelation: "exercise_definitions";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "user_global_favorites_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      user_notifications: {
        Row: {
          id: string;
          notification_id: string;
          read_at: string | null;
          user_id: string;
        };
        Insert: {
          id?: string;
          notification_id: string;
          read_at?: string | null;
          user_id: string;
        };
        Update: {
          id?: string;
          notification_id?: string;
          read_at?: string | null;
          user_id?: string;
        };
        Relationships: [
          {
            foreignKeyName: "user_notifications_notification_id_fkey";
            columns: ["notification_id"];
            isOneToOne: false;
            referencedRelation: "notifications";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "user_notifications_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
      workout_exercise_structure: {
        Row: {
          bonus_for_time_group: number | null;
          created_at: string | null;
          exercise_library_id: string;
          id: string;
          min_session_minutes: number | null;
          workout_name: string;
          workout_split: string;
        };
        Insert: {
          bonus_for_time_group?: number | null;
          created_at?: string | null;
          exercise_library_id: string;
          id?: string;
          min_session_minutes?: number | null;
          workout_name: string;
          workout_split: string;
        };
        Update: {
          bonus_for_time_group?: number | null;
          created_at?: string | null;
          exercise_library_id?: string;
          id?: string;
          min_session_minutes?: number | null;
          workout_name?: string;
          workout_split?: string;
        };
        Relationships: [];
      };
      workout_sessions: {
        Row: {
          completed_at: string | null;
          created_at: string | null;
          duration_string: string | null;
          id: string;
          rating: number | null;
          session_date: string;
          t_path_id: string | null;
          template_name: string | null;
          user_id: string | null;
        };
        Insert: {
          completed_at?: string | null;
          created_at?: string | null;
          duration_string?: string | null;
          id?: string;
          rating?: number | null;
          session_date: string;
          t_path_id?: string | null;
          template_name?: string | null;
          user_id?: string | null;
        };
        Update: {
          completed_at?: string | null;
          created_at?: string | null;
          duration_string?: string | null;
          id?: string;
          rating?: number | null;
          session_date?: string;
          t_path_id?: string | null;
          template_name?: string | null;
          user_id?: string | null;
        };
        Relationships: [
          {
            foreignKeyName: "workout_sessions_t_path_id_fkey";
            columns: ["t_path_id"];
            isOneToOne: false;
            referencedRelation: "t_paths";
            referencedColumns: ["id"];
          },
          {
            foreignKeyName: "workout_sessions_user_id_fkey";
            columns: ["user_id"];
            isOneToOne: false;
            referencedRelation: "profiles";
            referencedColumns: ["id"];
          },
        ];
      };
    };
    Views: {
      [_ in never]: never;
    };
    Functions: {
      get_notifications_with_read_status: {
        Args: Record<PropertyKey, never>;
        Returns: {
          created_at: string;
          id: string;
          is_read: boolean;
          message: string;
          title: string;
          type: string;
        }[];
      };
      get_user_personal_records: {
        Args: {
          p_user_id: string;
          p_limit?: number;
        };
        Returns: {
          exercise_name: string;
          exercise_type: string;
          best_value: number;
          unit: string;
          last_achieved_date: string;
        }[];
      };
      handle_new_user: {
        Args: Record<PropertyKey, never>;
        Returns: string;
      };
      get_total_completed_exercise_instances: {
        Args: {
          p_user_id: string;
        };
        Returns: number;
      };
    };
    Enums: {
      [_ in never]: never;
    };
    CompositeTypes: {
      [_ in never]: never;
    };
  };
};